//watch stiver n qeen
public class NQueens {
    static int N;

    // Function to print the board
    static void printBoard(int board[][]) {
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < N; j++) {
                System.out.print(board[i][j] == 1 ? "Q " : ". ");
            }
            System.out.println();
        }
        System.out.println();
    }

    // Function to check if placing queen at board[row][col] is safe
    static boolean isSafe(int board[][], int row, int col) {
        int i, j;

        // Check this row on left side
        for (i = 0; i < col; i++) {
            if (board[row][i] == 1)
                return false;
        }

        // Check upper diagonal on left side
        for (i = row, j = col; i >= 0 && j >= 0; i--, j--) {
            if (board[i][j] == 1)
                return false;
        }

        // Check lower diagonal on left side
        for (i = row, j = col; i < N && j >= 0; i++, j--) {
            if (board[i][j] == 1)
                return false;
        }

        return true;
    }

    // Recursive function to solve N Queen
    static boolean solveNQUtil(int board[][], int col) {
        // If all queens are placed
        if (col >= N) {
            printBoard(board);
            return true; // Found a solution
        }

        boolean res = false;
        for (int i = 0; i < N; i++) {
            if (isSafe(board, i, col)) {
                board[i][col] = 1; // Place queen

                // Recurse for next column
                res = solveNQUtil(board, col + 1) || res;

                // Backtrack
                board[i][col] = 0;
            }
        }
        return res;
    }

    // Main solve function
    static void solveNQ(int n) {
        N = n;
        int board[][] = new int[N][N];

        if (!solveNQUtil(board, 0)) {
            System.out.println("No solution exists");
        }
    }

    public static void main(String[] args) {
        int n = 4; // Change N here
        solveNQ(n);
    }
}


Good question ðŸ‘ Let me explain why I wrote

boolean res = false;
res = solveNQUtil(board, col + 1) || res;

ðŸ”Ž Purpose of this part

This code is written when we want to print all possible solutions, not just stop at the first one.

res is used to track if any solution has been found.

solveNQUtil(board, col + 1) tries to place queens in the next column.

If it succeeds, it returns true.

The expression solveNQUtil(board, col + 1) || res ensures that:

Even if one recursive call succeeds, res becomes true.

But we still continue checking other rows for more solutions.
